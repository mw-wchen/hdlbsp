function hRD = plugin_rd(part)
% Reference design definition

%   Copyright 2014-2015 The MathWorks, Inc.

% First call the SOM-only RD function
hRD = Avnet.MicroZed.common.vivado_base_2014_2.plugin_rd(part);

% Now update the RD to add the carrier board I/O
hRD.ReferenceDesignName = 'I/O Carrier Base System (Vivado 2014.2)';

%% PMODs
hRD.addExternalIOInterface( ...
	'InterfaceID',		'Carrier PMOD JA', ...
	'InterfaceType',	'INOUT', ...
	'PortName',			'CARRIER_PMOD_JA', ...
	'PortWidth',		8, ...
	'FPGAPin',			{'T11', 'T10', 'T12', 'U12', 'V12', 'W13', 'T14', 'T15'}, ...
	'IOPadConstrain',	{'IOSTANDARD = LVCMOS33'});

hRD.addExternalIOInterface( ...
	'InterfaceID',		'Carrier PMOD JD', ...
	'InterfaceType',	'INOUT', ...
	'PortName',			'CARRIER_PMOD_JD', ...
	'PortWidth',		8, ...
	'FPGAPin',			{'R16', 'R17', 'T17', 'R18', 'V17', 'V18', 'W18', 'W19'}, ...
	'IOPadConstrain',	{'IOSTANDARD = LVCMOS33'});

%% LEDs
hRD.addExternalIOInterface( ...
	'InterfaceID',		'Carrier LEDs', ...
	'InterfaceType',	'OUT', ...
	'PortName',			'CARRIER_LED', ...
	'PortWidth',		8, ...
	'FPGAPin',			{'U14', 'U15', 'U18', 'U19', 'R19', 'V13', 'P14', 'R14'}, ...
	'IOPadConstrain',	{'IOSTANDARD = LVCMOS33'});

%% DIPSW
hRD.addExternalIOInterface( ...
	'InterfaceID',		'Carrier DIP Switches', ...
	'InterfaceType',	'IN', ...
	'PortName',			'CARRIER_DIPSW', ...
	'PortWidth',		4, ...
	'FPGAPin',			{'M14', 'M15', 'K16', 'J16'}, ...
	'IOPadConstrain',	{'IOSTANDARD = LVCMOS33'});

%% Push Buttons
hRD.addExternalIOInterface( ...
	'InterfaceID',		'Carrier Push Buttons', ...
	'InterfaceType',	'IN', ...
	'PortName',			'CARRIER_PB', ...
	'PortWidth',		4, ...
	'FPGAPin',			{'G19', 'G20', 'J20', 'H20'}, ...
	'IOPadConstrain',	{'IOSTANDARD = LVCMOS33'});

%% XADC Pins [for use with blackbox code]
hRD.addExternalIOInterface( ...
	'InterfaceID',		'Carrier XADC V_N', ...
	'InterfaceType',	'IN', ...
	'PortName',			'Carrier XADC_V_N', ...
	'PortWidth',		1, ...
	'FPGAPin',			{'L10'}, ...
	'IOPadConstrain',	{'IOSTANDARD = LVCMOS33'});

hRD.addExternalIOInterface( ...
	'InterfaceID',		'Carrier XADC V_P', ...
	'InterfaceType',	'IN', ...
	'PortName',			'Carrier XADC_V_P', ...
	'PortWidth',		1, ...
	'FPGAPin',			{'K9'}, ...
	'IOPadConstrain',	{'IOSTANDARD = LVCMOS33'});

hRD.addExternalIOInterface( ...
	'InterfaceID',		'Carrier XADC AD0_P', ...
	'InterfaceType',	'IN', ...
	'PortName',			'Carrier XADC_AD0_P', ...
	'PortWidth',		1, ...
	'FPGAPin',			{'C20'}, ...
	'IOPadConstrain',	{'IOSTANDARD = LVCMOS33'});

hRD.addExternalIOInterface( ...
	'InterfaceID',		'Carrier XADC AD0_N', ...
	'InterfaceType',	'IN', ...
	'PortName',			'Carrier XADC_AD0_N', ...
	'PortWidth',		1, ...
	'FPGAPin',			{'B20'}, ...
	'IOPadConstrain',	{'IOSTANDARD = LVCMOS33'});

hRD.addExternalIOInterface( ...
	'InterfaceID',		'Carrier XADC AD8_P', ...
	'InterfaceType',	'IN', ...
	'PortName',			'Carrier XADC_AD8_P', ...
	'PortWidth',		1, ...
	'FPGAPin',			{'B19'}, ...
	'IOPadConstrain',	{'IOSTANDARD = LVCMOS33'});

hRD.addExternalIOInterface( ...
	'InterfaceID',		'Carrier XADC AD8_N', ...
	'InterfaceType',	'IN', ...
	'PortName',			'Carrier XADC_AD8_N', ...
	'PortWidth',		1, ...
	'FPGAPin',			{'A20'}, ...
	'IOPadConstrain',	{'IOSTANDARD = LVCMOS33'});

%% XADC Header GPIO
hRD.addExternalIOInterface( ...
	'InterfaceID',		'Carrier XADC GIO', ...
	'InterfaceType',	'INOUT', ...
	'PortName',			'CARRIER_XADC_GIO', ...
	'PortWidth',		4, ...
	'FPGAPin',			{'L16', 'G14', 'J15', 'L17'}, ...
	'IOPadConstrain',	{'IOSTANDARD = LVCMOS33'});

